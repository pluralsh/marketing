import{g as L}from"./chunks/gradient-loop.dc542c7a.js";import"./chunks/IframeLayout.astro_astro_type_script_index_1_lang.a5b4a2bb.js";function T(e,t=3){return e<.5?1-Math.pow(1-2*e,t):1-Math.pow(2*(e-.5),t)}function M(e){return T(e)}const E=e=>e.map((e=>e[1])),v=(e,t)=>{const{xPadding:a,spacing:n}=t;return e.map(((e,t)=>[a+n*t,e]))},D=e=>e.reduce(((e,t,a)=>({...e,[a]:t})),{}),O=(e,{nodeCount:t,spacing:a,floor:n,ceiling:o,xPadding:r})=>[r+a*e,Math.random()*(o-n)+n];function w(e,t){return e.map(((a,n)=>n===e.length-1?O(n,t):[a[0],e[n+1][1]]))}function h(e){const t=e.length;return e.reduce(((e,a,n)=>{const o=M(n/(t-1));return`${e}${0===n?"M":1===n?"L":""}${a[0]},${a[1]*o} `}),"")}const V=.5,m=2,Y=document.querySelectorAll("[data-graph-id]"),f=new Set;Y.forEach((e=>{e.dataset.graphId&&f.add(e.dataset.graphId)})),console.log("uniqueIds",f),f.forEach((e=>{const t=document.querySelector(`[data-graph-id=${e}]`).dataset,a=document.querySelectorAll(`[data-graph-id=${e}] [data-graph-path]`);console.log("graphPaths",a);const n=Number(t.nodeCount),o=Number(t.floor),r=Number(t.ceiling),d=Number(t.spacing),s=Number(t.xPadding),c=JSON.parse(t.initialNodes),i={nodeCount:n,floor:o,ceiling:r,spacing:d,xPadding:s},u=h(c);a.forEach((e=>{e.setAttribute("d",u)})),h(w(c,i));let p=c;!function e(t=0){let n=E(p),o=E(w(p,i));const r={...D(o),duration:2,delay:t,ease:"sine.inOut",onUpdate:e=>{p=v(n,i);const t=h(p);a.forEach((e=>{e.setAttribute("d",t)}))},onComplete:()=>{e(),s&&window.removeEventListener("message",s)}},d=L.to(n,r),s=e=>{"play"===e?.data?(d.play(),console.log("graph play")):"pause"===e?.data&&(console.log("graph pause"),d.pause())};window?.addEventListener("message",s)}("graph1"===e?0:"graph2"===e?.666:1.332)}));