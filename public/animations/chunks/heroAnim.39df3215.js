import{g as L}from"./gradient-loop.dc542c7a.js";const x=1,v=2e3,w=3;let s=null,$=0,A=0,l="AUTO_WALK";const d=()=>document.querySelectorAll(".hhh_clustersGrid .hhh_squareRoot");function n(t){return{x:Math.floor(Number(t.getAttribute("data-index-x"))),y:Math.floor(Number(t.getAttribute("data-index-y"))),active:!!t.getAttribute("data-active")}}function W(){A++,"LAST_WALK"===l&&A>=3&&(l="STOPPED")}function q(){s=null,$+=1,A=0,$>=1&&"AUTO_WALK"===l&&(l="LAST_WALK"),d().forEach((t=>{const{x:e,y:o}=n(t);0!==e||0!==o?(t.removeAttribute("data-active"),t.classList.remove("hhh_connectTop"),t.classList.remove("hhh_connectBottom"),t.classList.remove("hhh_connectRight"),t.classList.remove("hhh_connectLeft")):s={x:e,y:o,elt:t}})),M(p(s)),y()}const f=(t,e)=>{const{y:o}=n(t),{y:a}=n(e);return o-a},K=(t,e)=>document.querySelector(`.hhh_clustersGrid .hhh_squareRoot[data-index-x="${t}"][data-index-y="${e}"]`);function p(t){let e=d();return Array.from(e).filter((e=>{let{x:o,y:a,active:h}=n(e);return!h&&(o===t.x+1&&a===t.y||o===t.x-1&&a===t.y||o===t.x&&a===t.y+1||o===t.x&&a===t.y-1)})).map((t=>{const{x:e,y:o}=n(t);return{elt:t,x:e,y:o}}))}function D(t){if(!t)return{x:0,y:0,elt:K(0,0)};let e=p(t);return 0===e.length?null:e[Math.floor(Math.random()*e.length)]}function b(t){return[Array.from(t).filter((t=>0===n(t).x)).sort(f),Array.from(t).filter((t=>1===n(t).x)).sort(f),Array.from(t).filter((t=>2===n(t).x)).sort(f)]}function E(t,e){const o=b(d());if(null==t){const o=D(s);if(!o)return q(),!1;t=o.x,e=o.y}const a=s?.x-t,h=s?.y-e;if(!s&&0===t&&0===e||!n(o[t][e]).active&&s&&(1===Math.abs(a)&&0===Math.abs(h)||0===Math.abs(a)&&1===Math.abs(h))){a<0||0===t&&0===e?o[t][e].classList.add("hhh_connectLeft"):a>0?o[t][e].classList.add("hhh_connectRight"):h>0?o[t][e].classList.add("hhh_connectTop"):h<0&&o[t][e].classList.add("hhh_connectBottom"),window.setTimeout((()=>{o[t][e].setAttribute("data-active","1")}),10),s={x:t,y:e,elt:o[t][e]},W(),y();const r=p(s);M(r),0===r.length&&(setTimeout(q,v),clearTimeout(S))}return!0}let S;const O=(t,e)=>{E()||q(),y()};function M(t){d().forEach((t=>{t.removeAttribute("data-valid-move")})),t.forEach((t=>{t.elt.setAttribute("data-valid-move","1")}))}function y(t=v){clearTimeout(S),("AUTO_WALK"===l||"LAST_WALK"===l)&&(S=setTimeout(O,t))}function G(){const t=d();b(t),t.forEach((t=>{t.addEventListener("mouseenter",(()=>{const{x:e,y:o}=n(t);E(e,o)}))})),O()}const o="#hhh_hero1";function m(t){document.querySelector(t).classList.add("hhh_highlight")}function _(t){document.querySelector(t).classList.remove("hhh_highlight")}const g=3,R=0,Y=L.timeline({repeat:0,repeatDelay:0,smoothChildTiming:!0}).call(m,[`${o} .hhh_square1`],"+=0").call(_,[`${o} .hhh_square1`],"+=3").call(m,[`${o} .hhh_square2`],"+=0.0").call(_,[`${o} .hhh_square2`],"+=3").call(m,[`${o} .hhh_square3`],"+=0.0").call(_,[`${o} .hhh_square3`],"+=3"),C=L.timeline({smoothChildTiming:!0}).add(Y).call(m,[`${o} .hhh_square2`],"+=0"),i=L.timeline({repeat:0,repeatDelay:2});i.call((()=>{document.querySelector(`${o}`).classList.add("hhh_start")})),i.from(`${o} #hhh_bigSquareArea`,{y:"-=30%",rotateY:"+=30",rotateX:"-=5",rotateZ:"-=5",duration:1,ease:"sine.inOut"},0).from(`${o} .hhh_bigSquareShadow`,{opacity:.5,duration:.75,ease:"sine.inOut"},"<").addLabel("stage2");const T={grid:[3,3],from:"edges",amount:.5};i.from(`${o} .hhh_appSquare .hhh_shadow`,{opacity:0,scale:.3,duration:1,ease:"sine.easeInOut",stagger:T},"<0.2"),i.from(`${o} .hhh_appSquare .hhh_shape`,{opacity:0,duration:.5,ease:"none",stagger:T},"<0.2"),i.from(`${o} .hhh_appSquare .hhh_shape`,{z:60,duration:1,ease:"power2.easeOut",stagger:T},"<0.2"),i.from(`${o} .hhh_bottomSquare`,{z:-20,y:-100,duration:.75,ease:"power1.easeOut",stagger:{amount:.2}},"stage2-=0.15"),i.from([`${o} .hhh_bottomSquare .hhh_squareShape`,`${o} .hhh_bottomSquare .hhh_connectors`,`${o} .hhh_bottomSquare .hhh_shadow`].join(", "),{opacity:0,duration:.3,ease:"power1.easeOut",stagger:{amount:.2}},"<0"),i.add(C,"-=0.0"),i.call(G,[],"<0.4"),i.from(`${o} .hhh_clustersGrid .hhh_squareShapeIn`,{opacity:0,duration:.3,z:"-=20",stagger:{amount:.3},ease:"Power2.easeOut"},"stage2-=0");