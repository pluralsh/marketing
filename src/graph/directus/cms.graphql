fragment Event on events {
  id
  name
  start_date
  end_date
  show_start_time
  show_end_time
  timezone
  description
  fields
  ctas
}

query Events {
  events {
    ...Event
  }
}

fragment Link on nav_link {
  id
  title
  url
}

fragment NavList on nav_list {
  id
  # slug'
  flatten
  mobile_only
  link {
    ...Link
  }
}

fragment NavListDepth3 on nav_list {
  ...NavList
  subnav(sort: ["sort"]) {
    ...NavList
    subnav(sort: ["sort"]) {
      ...NavList
    }
  }
}

fragment SiteSettings on site_settings {
  main_nav(sort: ["sort"]) {
    ...NavListDepth3
  }
  og_description
  og_image {
    ...ImageFile
  }
}

query SiteSettings {
  site_settings {
    ...SiteSettings
  }
}

fragment FeaturedArticle on case_studies {
  id
  slug
  label
  title
  content
  ctas
  stack_label
  stack_apps
  hero_image {
    ...ImageFile
  }
}

fragment AppExtras on apps {
  name
  heroVideo
  case_study {
    ...FeaturedArticle
  }
}
fragment AppDefaults on app_defaults {
  case_study {
    ...FeaturedArticle
  }
}

query AppExtras($name: String) {
  apps(filter: { name: { _eq: $name } }) {
    ...AppExtras
  }
  app_defaults {
    ...AppDefaults
  }
}

fragment StackExtras on stacks {
  name
  heroVideo
  case_study {
    ...FeaturedArticle
  }
}
fragment StackDefaults on stack_defaults {
  case_study {
    ...FeaturedArticle
  }
}

query StackExtras($name: String) {
  stacks(filter: { name: { _eq: $name } }) {
    ...StackExtras
  }
  stack_defaults {
    ...StackDefaults
  }
}

fragment ImageFile on directus_files {
  id
  title
  description
  tags
  filename_disk
  filename_download
  metadata
  type
  filesize
}

fragment TeamMember on team_members {
  id
  name
  title
  categories
  pronouns
  portrait {
    ...ImageFile
  }
}

query TeamMembers {
  team_members {
    ...TeamMember
  }
}

fragment FeaturedContributor on featured_contributors {
  id
  name
  title
  portrait {
    ...ImageFile
  }
  social_github_url
  social_twitter_url
  social_linkedin_url
  content
  ctas
}

query FeaturedContributors {
  featured_contributors {
    ...FeaturedContributor
  }
}

fragment FaqItem on collapsibles {
  id
  label
  content
}

fragment FaqList on collapsible_lists {
  items {
    ...FaqItem
  }
}

query FaqList($slug: String) {
  collapsible_lists(filter: { slug: { _eq: $slug } }) {
    ...FaqList
  }
}

fragment Solution on solutions_pages {
  id
  slug
  title
  description
  heading_1
  content_1
  heading_2
  content_2
  hero_image {
    ...ImageFile
  }
  case_study {
    ...FeaturedArticle
  }
  bullet_points
}

query SolutionsSlugs {
  solutions_pages {
    slug
  }
}

query Solutions($slug: String) {
  solutions_pages(filter: { slug: { _eq: $slug } }) {
    ...Solution
  }
}
